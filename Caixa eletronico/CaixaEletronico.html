<html>
	<head>
		<script>
			var saldo = 100.5;
			var nome = prompt('Insira seu nome :');
			var mensagem = alert('Sem bem-vindo(a) ' + nome + ', é um prazer tê-lo(a) conosco');
			var senha = 2106;
			function inicio() {
				var escolha = parseInt(prompt('Selecione uma opção' + '\n' + '1.) Saldo' + '\n' + '2.) Extrato' + 
				'\n' + '3.) Saque' + '\n' + '4.) Depósito' + '\n' + '5.) Transferência' + '\n' + '6.) Sair'));	
				switch (escolha) {
					case 1:
						ver_saldo();
						break;
					case 2:
						ver_extrato();
						break;
					case 3:
						fazer_saque();
						break;
					case 4:
						fazer_deposito();
						break;
					case 5:
						fazer_transferencia();
						break;
					case 6:
						sair();
						break;
					default:
						erro();
						break;
				}
			}

			function ver_saldo() {
				var senhasaldo = Number(prompt('Insira a senha do cartão:'))
				while (senhasaldo === senha) {
					alert('Seu saldo atual é: ' + saldo);
					inicio();
				}
				
				if (isNaN(senhasaldo) || senhasaldo === '') {
					alert('Por favor, insira a senha novamente');
					ver_saldo();
				}
			}

			function ver_extrato() {
				var senhaextrato = Number(prompt('Insira a senha do cartão:'))
				while (senhaextrato === senha) {
					alert('Extrato bancário' + '\n' + 'Spotify -R$19,90' + '\n' + 
					'Prime Video -R$16,90' + '\n' + 'Steam -R$199,90')
					inicio();
				}

				if (isNaN(senhaextrato) || senhaextrato === '') {
					alert('Por favor, insira a senha novamente');
					ver_extrato();
				}
			}

			function fazer_saque() {
				var senhasaque = Number(prompt('Insira a senha do cartão:'))
				while (senhasaque === senha) {
					var saque = parseFloat(prompt('Qual o valor para saque?'));

					if (isNaN(saque) || saque === '') {
					alert('Por favor, informe um número:');
					fazer_saque();
					} else if (saque <= 0) {
					alert('Operação não autorizada');
					fazer_saque();
					} else if (saque > saldo) {
					alert('Operação não autorizada');
					fazer_saque();
					} else {
					saldo -= saque;
					alert('Seu novo saldo é de : R$ ' + saldo)
					inicio();
					}
				}

				if (isNaN(senhasaque) || senhasaque === '') {
					alert('Por favor, insira a senha novamente');
					fazer_saque();
				} else {
					alert('Senha incorreta')
					fazer_saque();
				}
			}

			function fazer_deposito() {
				var deposito = parseFloat(prompt('Qual o valor para depósito?'));
				if (isNaN(deposito) || deposito === '') {
					alert('Por favor, informe um número:');
					fazer_deposito();
				} else if (deposito <= 0) {
					alert('Operação não autorizada');
					fazer_deposito();
				} else {
					saldo += deposito;
					alert('Seu novo saldo é de : R$ ' + saldo)
					inicio();
				}
			}

			function fazer_transferencia() {
				var senhatransferencia = Number(prompt('Insira a senha do cartão:'))
				while (senhatransferencia === senha) {
					var beneficiado = parseFloat(prompt('Insira o número da conta a ser beneficiada:'))
					if (isNaN(beneficiado) || beneficiado === '') {
					alert('Por favor, informe o número da conta a ser beneficiada:');
					fazer_transferencia();
					}

					var transferencia = parseFloat(prompt('Qual o valor para transferência?'));
					if (isNaN(transferencia) || transferencia === '') {
						alert('Por favor, informe um número:');
						fazer_transferencia();
					} else if (transferencia <= 0) {
						alert('Operação não autorizada');
						fazer_transferencia();
					} else if (transferencia > saldo) {
						alert('Operação não autorizada');
						fazer_transferencia();
					} else {
						saldo -= transferencia;
						alert('Seu novo saldo é de : R$ ' + saldo)
						inicio();
					}
				}
				
				if (isNaN(senhatransferencia) || senhatransferencia === '') {
					alert('Por favor, insira a senha novamente');
					fazer_transferencia();
				} else {
					alert('Senha incorreta')
					fazer_transferencia();
				}
			}

			function erro() {
				alert('Por favor, informe um número entre 1 e 6');
				inicio();
			}

			function sair() {
				var confirma = confirm('Você deseja sair?');
				if (confirma) {
					window.close()
				} else {
					inicio();
				}
			}

			inicio();
		</script>
	</head>
</html>